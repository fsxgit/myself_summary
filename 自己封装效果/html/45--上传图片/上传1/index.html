<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>jQuery多张图片批量上传插件 - 站长素材</title>
<script src="jquery.js"></script>

<link rel="stylesheet" type="text/css" href="diyUpload/css/webuploader.css">
<link rel="stylesheet" type="text/css" href="diyUpload/css/diyUpload.css">
<script type="text/javascript" src="diyUpload/js/webuploader.html5only.min.js"></script>
<script type="text/javascript" src="diyUpload/js/diyUpload.js"></script>
</head>
<style>
*{ margin:0; padding:0;}
#box{ margin:50px auto; width:540px; min-height:400px; background:#FF9}
#demo{ margin:0px auto; width:540px; min-height:800px; background:#CF9; position:absolute; left:50px ; top:0;z-index: 2;display: block; overflow: hidden;}
#mask{position:fixed; left:0; top:0; background: #000; width: 100%; height:100%; opacity: 0.6; z-index: 1; display: none;}
	#btn2{position:absolute;right:0; top:0;}
</style>
<body>
<button id="btn">上传图片</button>
<div id="mask"></div>
<div id="demo">
	<div id="as" ></div>
	<button id="btn2">关闭</button>
</div>
</body>
<script type="text/javascript">

/*
* 服务器地址,成功返回,失败返回参数格式依照jquery.ajax习惯;
* 其他参数同WebUploader
*/
$(function(){
	$("#demo").css({"left":left,"width":"0"});
})
var left=($(document).width()-$("#demo").width())/2;
$("#btn").on("click",function(){
	$("#demo").css("width","540");
	$("#mask").show();
});
$("#btn2").click(function(){
	$("#demo").css({"width":"0"});
	$("#mask").hide();
})
$('#as').diyUpload({
	url:'server/fileupload.php',
	success:function( data ) {
		console.info( data );
	},
	error:function( err ) {
		console.info( err );
	},
	buttonText : '选择照片',
	chunked:true,
	// 分片大小
	chunkSize:512 * 1024,
	//最大上传的文件数量, 总文件大小,单个文件大小(单位字节);
	fileNumLimit:10,
	fileSizeLimit:500000 * 1024,
	fileSingleSizeLimit:50000 * 1024,
	accept: {}
});

</script>
</html>
