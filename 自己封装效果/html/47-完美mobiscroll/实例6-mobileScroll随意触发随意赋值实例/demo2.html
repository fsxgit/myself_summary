<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1" />
    <title>mobilescroll</title>
    <link href="css/mobiscroll.custom-2.5.0.min.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery.min.js"></script>
    <script src="js/mobiscroll.custom-2.5.0.min.js" type="text/javascript"></script>
    <style>
        *{margin:0; padding:0;}
        .red{color: #ff2f15; text-align: center;}
        .btnbox{width: 100%; overflow: hidden;}
        .cho-mode{float: left; width: 50% ;text-align: center; height:60px; line-height: 60px; color: #ff0511;}
        .zhi{padding:10px 20px;}

        /*隐藏显示框*/
        #none{display: none;}

        /*固定三级联动中的每一行的宽度，防止过长分为上下的*/
        .dwhl{padding:1px 0 !important;}
        .dw-ul{width:80px; overflow: hidden;}

        /*这个是框架生成的触发条件的输入框*/
        #site_dummy,#active_dummy{width:80%; border-radius: 4px; height:20px; padding:2px 6px; margin:10px 5%;}
    </style>
</head>
<body>
<h1 class="red">隐藏的选择框</h1>
<h2 class="red">自定义地方触发事件</h2>
<h3 class="red">自定义地方显示值</h3>

<div class="btnbox">
    <div class="cho-mode">
        <span  id="btn1">点击选择1</span>
    </div>
    <div class="cho-mode">
        <span  id="btn2">点击选择2</span>
    </div>
</div>
<div class="zhi">
    <span>值1:</span>
    <span class="res1"></span>
</div>
<div class="zhi">
    <span>值2:</span>
    <span class="res2"></span>
</div>
<div id="none">
    <!--选择1-->
    <ul id="site">
        <li>
            <span class="sheng">河南</span>
            <ul>
                <li>
                    <span class="shi">洛阳</span>
                    <ul>
                        <li>
                            <span class="qu">涧西区</span>
                        </li>
                        <li>
                            <span class="qu">西工区</span>
                        </li>
                        <li>
                            <span class="qu">阜城</span>
                        </li>
                        <li>
                            <span class="qu">故城</span>
                        </li>
                        <li>
                            <span class="qu">杨庙</span>
                        </li>
                        <li>
                            <span class="qu">枣城</span>
                        </li>
                        <li>
                            <span class="qu">汝州</span>
                        </li>
                        <li>
                            <span class="qu">洛阳</span>
                        </li>
                        <li>
                            <span class="qu">平顶山</span>
                        </li>
                        <li>
                            <span class="qu">涧西区</span>
                        </li>
                        <li>
                            <span class="qu">老城区</span>
                        </li>
                        <li>
                            <span class="qu">新区</span>
                    </ul>
                </li>
                <li>
                    <span class="shi">平顶山</span>
                    <ul>
                        <li>
                            <span class="qu">汝州</span>
                        </li>
                        <li>
                            <span class="qu">郏县</span>
                        </li>
                        <li>
                            <span class="qu">阜城</span>
                        </li>
                        <li>
                            <span class="qu">故城</span>
                        </li>
                        <li>
                            <span class="qu">杨庙</span>
                        </li>
                        <li>
                            <span class="qu">枣城</span>
                        </li>
                        <li>
                            <span class="qu">汝州</span>
                        </li>
                        <li>
                            <span class="qu">洛阳</span>
                        </li>
                        <li>
                            <span class="qu">平顶山</span>
                        </li>
                        <li>
                            <span class="qu">涧西区</span>
                        </li>
                        <li>
                            <span class="qu">老城区</span>
                        </li>
                        <li>
                            <span class="qu">新区</span>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <span class="sheng">河北</span>
            <ul>
                <li>
                    <span class="shi">衡水</span>
                    <ul>
                        <li>
                            <span class="qu">阜城</span>
                        </li>
                        <li>
                            <span class="qu">故城</span>
                        </li>
                        <li>
                            <span class="qu">杨庙</span>
                        </li>
                        <li>
                            <span class="qu">枣城</span>
                        </li>
                        <li>
                            <span class="qu">汝州</span>
                        </li>
                        <li>
                            <span class="qu">洛阳</span>
                        </li>
                        <li>
                            <span class="qu">平顶山</span>
                        </li>
                        <li>
                            <span class="qu">涧西区</span>
                        </li>
                        <li>
                            <span class="qu">老城区</span>
                        </li>
                        <li>
                            <span class="qu">新区</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <span class="shi">邯郸</span>
                    <ul>
                        <li>
                            <span class="qu">邯山区</span>
                        </li>
                        <li>
                            <span class="qu">南山区</span>
                        </li>
                        <li>
                            <span class="qu">阜城</span>
                        </li>
                        <li>
                            <span class="qu">故城</span>
                        </li>
                        <li>
                            <span class="qu">杨庙</span>
                        </li>
                        <li>
                            <span class="qu">枣城</span>
                        </li>
                        <li>
                            <span class="qu">汝州</span>
                        </li>
                        <li>
                            <span class="qu">洛阳</span>
                        </li>
                        <li>
                            <span class="qu">平顶山</span>
                        </li>
                        <li>
                            <span class="qu">涧西区</span>
                        </li>
                        <li>
                            <span class="qu">老城区</span>
                        </li>
                        <li>
                            <span class="qu">新区</span>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <!--选择2-->
    <select  id="active">
        <option value="1">大专</option>
        <option value="2">本科</option>
        <option value="3">高中</option>
        <option value="4">初中</option>
        <option value="5">小学</option>
    </select>
</div>




<script>
//自定义触发按钮
$("#btn1").click(function(){
    $("#site").mobiscroll("show");
//    清楚事件
//    $("#site").mobiscroll("clear");
});
$("#btn2").click(function(){
    $("#active").mobiscroll("show");
//    清楚事件
//    $("#active").mobiscroll("clear");
});



//选择1
$(function () {

    var opt = { };

    opt.tree_list = {
        preset : 'list',
        labels: ['Region', 'Country', 'City']
    };
    $('#site').val('').scroller('destroy').scroller(
            $.extend(opt['tree_list'],
                    {
                        theme: 'android-ics light',
                        mode: 'scroller',
                        display: 'bottom',
                        setText: '确定',
                        cancelText: '取消',
                        lang: 'zh',
                        headerText: function (valueText) { return "选择地址";},
                        formatResult: function (arr) {



//                            把字符串转换成数组使用
//                            console.log(arr);
//                            var reg = /(\d)+/g;
//                            var array = arr.match(reg);
//                            由于arr是由空格间隔的数字（例如：12 2 8），固要排除空格组成新的数字再取值,有时候有这个问题，有时候没有




                            var array =arr;

                            var fir = $('#site>li').eq(array[0]).find(".sheng").text();	//第一级文字
                            var sec = $('#site>li').eq(array[0]).find('.shi').eq(array[1]).text();	//第二级文字
                            var tir = $('#site>li').eq(array[0]).find('.shi').eq(array[1]).siblings("ul").find('.qu').eq(array[2]).text();	//第三级文字
//                            返回选择结果,在输入框里显示
//                            alert(fir+" "+sec+" "+tir);

                            //            自定义位置显示结果
//                            alert(fir+" "+sec+" "+tir);
//                            设置默认值 即第一个选项
                            $(".res1").html(fir+" "+sec+" "+tir);
                            return(fir+" "+sec+" "+tir);

                        },
                        onSelect: function (array,inst) {

                            console.log(array);
//                            弹出选择结果
//                            $(".res1").html(array);

//            console.log(inst);
//            点击确定按钮触发 弹出选中的文字
//            alert(array);
//            点击确定按钮触发 弹出选中的文字的value
//            alert($('#state').mobiscroll('getValue'));

                        }

                    }
            )
    );
});


//选择2
$(function () {
    $('#active').mobiscroll().select({
        preset: 'select',
        theme: 'android-ics light',
        lang: 'zh',
        setText: '确定',
        cancelText: '取消',
        minWidth: 200,
        mode: 'scroller',
        display: 'bottom',
        onSelect: function (array) {
//            点击确定按钮触发
//            alert(array);
            $(".res2").html(array);
        }
    });
});

</script>
</body>
</html>