<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>强制横屏</title>
    <style>
        *{margin:0; padding:0;}
        ul{overflow: hidden;}
        ul,li{list-style: none;}
        li{width: 32%; float: left;}
        li:nth-of-type(3n+2){margin-left:2%; margin-right:2%;}
        #J_wrapper .img{width: 100%; height:150px;}
        #J_wrapper .img img{ width: 100%; height: 100%; display: block;}
        #J_wrapper li p{ margin:10px 0 15px;}
        .ellipsis1 {
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .ellipsis2 {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .ellipsis3 {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
    </style>
</head>
<body id="J_wrapper">
    <div>
        <ul>
            <li>
                <div class="img"><img src="images/img1.jpg" alt=""></div>
                <p class="ellipsis1">我是文字介绍，我是文字介绍，我是文字介绍</p>
            </li>
            <li>
                <div class="img"><img src="images/img2.jpg" alt=""></div>
                <p class="ellipsis1">我是文字介绍，我是文字介绍，我是文字介绍</p>
            </li>
            <li>
                <div class="img"><img src="images/img3.jpg" alt=""></div>
                <p class="ellipsis1">我是文字介绍，我是文字介绍，我是文字介绍</p>
            </li>
            <li>
                <div class="img"><img src="images/img1.jpg" alt=""></div>
                <p class="ellipsis1">我是文字介绍，我是文字介绍，我是文字介绍</p>
            </li>
            <li>
                <div class="img"><img src="images/img2.jpg" alt=""></div>
                <p class="ellipsis1">我是文字介绍，我是文字介绍，我是文字介绍</p>
            </li>
            <li>
                <div class="img"><img src="images/img3.jpg" alt=""></div>
                <p class="ellipsis1">我是文字介绍，我是文字介绍，我是文字介绍</p>
            </li>
        </ul>
    </div>
<script>
    // 利用 CSS3 旋转 对根容器逆时针旋转 90 度
    var detectOrient = function() {
        var width = document.documentElement.clientWidth,
            height = document.documentElement.clientHeight,
            $wrapper = document.getElementById("J_wrapper"),
            style = "";

        if( width >= height ){ // 横屏
            style += "width:" + width + "px;"; // 注意旋转后的宽高切换
            style += "height:" + height + "px;";
            style += "-webkit-transform: rotate(0); transform: rotate(0);";
            style += "-webkit-transform-origin: 0 0;";
            style += "transform-origin: 0 0;";
        }
        else{ // 竖屏
            style += "width:" + height + "px;";
            style += "height:" + width + "px;";
            style += "-webkit-transform: rotate(90deg); transform: rotate(90deg);";
// 注意旋转中点的处理
            style += "-webkit-transform-origin: " + width / 2 + "px " + width / 2 + "px;";
            style += "transform-origin: " + width / 2 + "px " + width / 2 + "px;";
        }
        $wrapper.style.cssText = style;
    };
    window.onresize = detectOrient;
    detectOrient();
</script>
</body>
</html>